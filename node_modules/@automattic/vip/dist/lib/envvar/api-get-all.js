"use strict";

exports.__esModule = true;
exports.default = getEnvVars;
var _graphqlTag = _interopRequireDefault(require("graphql-tag"));
var _api = _interopRequireDefault(require("../../lib/api"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const query = (0, _graphqlTag.default)`
	query GetEnvironmentVariablesWithValues($appId: Int!, $envId: Int!) {
		app(id: $appId) {
			id
			environments(id: $envId) {
				id
				environmentVariables {
					total
					nodes {
						name
						value
					}
				}
			}
		}
	}
`;
async function getEnvVars(appId, envId) {
  const api = (0, _api.default)();
  const variables = {
    appId,
    envId
  };
  const {
    data
  } = await api.query({
    query,
    variables
  });
  return data.app?.environments?.[0]?.environmentVariables?.nodes ?? null;
}