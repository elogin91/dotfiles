"use strict";

exports.__esModule = true;
exports.default = deleteEnvVar;
var _graphqlTag = _interopRequireDefault(require("graphql-tag"));
var _api = _interopRequireDefault(require("../../lib/api"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const mutation = (0, _graphqlTag.default)`
	mutation DeleteEnvironmentVariable($appId: Int!, $envId: Int!, $name: String!) {
		deleteEnvironmentVariable(
			input: { applicationId: $appId, environmentId: $envId, name: $name, value: "" }
		) {
			environmentVariables {
				total
				nodes {
					name
				}
			}
		}
	}
`;
async function deleteEnvVar(appId, envId, name) {
  const api = (0, _api.default)();
  const variables = {
    appId,
    envId,
    name
  };
  return api.mutate({
    mutation,
    variables
  });
}