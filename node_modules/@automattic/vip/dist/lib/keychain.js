"use strict";

exports.__esModule = true;
exports.default = void 0;
var _debug = _interopRequireDefault(require("debug"));
var _insecure = _interopRequireDefault(require("./keychain/insecure"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
let exportValue;
const debug = (0, _debug.default)('@automattic/vip:keychain');
try {
  // Try using Secure keychain ("keytar") first
  // eslint-disable-next-line @typescript-eslint/no-var-requires
  const Secure = require('./keychain/secure');
  exportValue = new Secure();
} catch (error) {
  debug('Cannot use Secure keychain; falling back to Insecure keychain (Details: %o)', error);

  // Fallback to Insecure keychain if we can't
  exportValue = new _insecure.default('vip-go-cli');
}
var _default = exports.default = exportValue;